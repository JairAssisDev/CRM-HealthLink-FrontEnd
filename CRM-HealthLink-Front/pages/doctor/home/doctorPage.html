<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">


    <title>Dashboard do Doutor</title>
    <link rel="icon" href="/images/logo2.png" type="image/png">
    <link rel="stylesheet" href="/pages/gerente/home/managerStyle.css">
 
    <link rel="stylesheet" href=" /css/doutorStyle.css">
    <link rel="stylesheet" href="/pages/doctor/calendarioDoctor.css"> 
    <script src="/js/doctor.js" defer></script>
    <Script src="/pages/doctor/doctor.js" refed></Script>

</head>

<body>
    <header>
        <div class="top-header header-top">
            <img src="/images/logo2.png" alt="Logo da Empresa" class="logo">
            <h1 id="welcome-message"></h1>
            <button id="back-button" class="back-button" onclick="singOut()"><strong>Logout</strong></button>
        </div>
        <div class="bottom-header">
            <div class="interface">
                <nav>
                    <ul>
                        <li class="menu-drop"><a>Entidades <i class="bi bi-caret-down-fill"></i></a>
                            <div class="drop">
                                <a href="#Calendario" onclick="showSection('Calendario')">Calendário de Consultas</a>
                                <a href="#appointments" onclick="showSection('appointments')">Consultas Marcadas</a>

                            </div>
                        </li>
                        <li>
                            <a href="/pages/chamada/medico/chamadaMedicoProntidao.html">Prontidão</a>

                        </li>
                    </ul>
                </nav>

            </div>
        </div>
    </header>

    <main>
        <!-- <section id="exam" class="content-section">
            <h2>Criar Novo Exame</h2>
            <form id="create-exam-form">
                <label for="exam-date">Data:</label>
                <input type="datetime-local" id="exam-date" name="exam-date" required>

                <label for="fk-appointment">Consulta:</label>
                <select id="fk-appointment" name="fk-appointment" required></select>

                <label for="exam-description">Descrição do exame:</label>
                <textarea id="exam-description" name="exam-description" required></textarea>
                
                <button type="submit"><strong>Criar Exame</strong></button>
            </form>
        </section> -->

        <section id="appointments" class="content-section">
            <h2>Consultas Marcadas</h2>
            <ul id="appointments-list"></ul>
        </section>

        <!-- <section id="meusExames" class="content-section">
            <h2>Exames Marcados</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Data</th>
                        <th>Descrição</th>
                        <th>Nome do Paciente</th>
                    </tr>
                </thead>
                <tbody id="D-exams-list"></tbody>
            </table>
        </section> -->

        <!-- Seção de calendário com exibição dos detalhes diretamente -->
        <section id="Calendario" class="content-section">
            <h2>Calendário de Consultas</h2>

            <div id="calendario-consultas-form">

                <!-- Seletor de especialidade -->
                <div class="form-row">
                    <label>Tipo dos Agendamentos:</label>
                    <select id="selectAgendamentos">
                        <option value="" selected></option>
                    </select>
                </div>

                <div class="agendamento-selector marginTop">
                    <label class="marginTop" for="specialty">Especialidade:</label>
                    <select id="specialty">
                    </select>
                </div>

                <!-- Seletores de mês e ano -->
                <div class="date-selectors marginTop">
                    <label for="month">Mês:</label>
                    <select id="month">
                        <option value="01">Janeiro</option>
                        <option value="02">Fevereiro</option>
                        <option value="03">Março</option>
                        <option value="04">Abril</option>
                        <option value="05">Maio</option>
                        <option value="06">Junho</option>
                        <option value="07">Julho</option>
                        <option value="08">Agosto</option>
                        <option value="09">Setembro</option>
                        <option value="10">Outubro</option>
                        <option value="11">Novembro</option>
                        <option value="12">Dezembro</option>
                    </select>

                    <br>

                    <label for="year">Ano:</label>
                    <input type="number" id="year" value="2024" min="2000" max="2100">
                </div>

                <br>

                <button class="button" onclick="renderizarGerenteCalendario()"><strong>Mostrar
                        Calendário</strong></button>
            </div>


            <div id="calendarioDoctor" class="calendario">

                <div class="calendar" id="calendar">

                </div>

            </div>
            <div class="day-details" id="day-details" style="display: none;">
                <p id="selected-day-info"></p>
            </div>



        </section>

    </main>
    <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous">

    
    document.addEventListener("DOMContentLoaded", () => {
        const token = localStorage.getItem("token"); 
        showPatients();
    });


      document.getElementById("form-criar-consulta").addEventListener("submit", async (event) => {
        console.log("Submit acionado");
        event.preventDefault(); 
        await criarConsulta();
      });

      
  </script>
</body>

</html>